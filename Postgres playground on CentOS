Centos 7

sudo yum repolist enabled
sudo yum repolist disabled
sudo yum repolist --disablerepo=pgdg-common
sudo yum repolist --enablerepo=pgdg-common
sudo yum-config-manager --enable repository pgdg-common 
sudo yum-config-manager --disable repository pgdg-common


Install RPM:
sudo yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
[centos@ip-172-31-91-216 ~]$ sudo yum install -y postgresql12-server
[centos@ip-172-31-91-216 ~]$ sudo /usr/pgsql-12/bin/postgresql-12-setup initdb
Initializing database ... OK
[centos@ip-172-31-91-216 ~]$ sudo systemctl enable postgresql-12
Created symlink from /etc/systemd/system/multi-user.target.wants/postgresql-12.service to /usr/lib/systemd/system/postgresql-12.service.
sudo systemctl start postgresql-12

On Primary Database:
postgres=# CREATE USER replica WITH REPLICATION PASSWORD 'replicapsql';
CREATE ROLE

pg_hba entry:
host  	replication  	replica   	*.*.*.*/32  	trust
host  	all  	replica   	*.*.*.*/32  	trust

PostgreSQL Parameter Configuration:
postgres=# ALTER SYSTEM set listen_addresses = '*';
ALTER SYSTEM
postgres=# ALTER SYSTEM set max_wal_senders= 10;;
ALTER SYSTEM
postgres=# ALTER SYSTEM set wal_level='replica';
ALTER SYSTEM
postgres=# ALTER SYSTEM set max_replication_slots=10;
ALTER SYSTEM
postgres=# ALTER SYSTEM set primary_conninfo = 'user=replica host=3.93.220.124 port=5432 sslmode=prefer sslcompression=1';
ALTER SYSTEM
postgres=# ALTER SYSTEM set primary_slot_name = 'repl_slot';
ALTER SYSTEM
postgres=# ALTER SYSTEM set archive_mode='on';
ALTER SYSTEM
postgres=# ALTER SYSTEM set archive_command='test ! -f /var/lib/pgsql/12/archive/%f && cp %p /var/lib/pgsql/12/archive/%f';
ALTER SYSTEM

[centos@ip-172-31-91-216 ~]$ sudo systemctl restart  postgresql-12.service

-bash-4.2$ cat /var/lib/pgsql/12/data/postgresql.auto.conf 
# Do not edit this file manually!
# It will be overwritten by the ALTER SYSTEM command.
listen_addresses = '*'
max_wal_senders = '10'
wal_level = 'replica'
max_replication_slots = '10'
primary_slot_name = 'repl_slot'
archive_command = 'test ! -f /var/lib/pgsql/12/archive/%f && cp %p /var/lib/pgsql/12/archive/%f'
archive_mode = 'off'
primary_conninfo = 'user=replica host=3.93.220.124 port=5432'

............
